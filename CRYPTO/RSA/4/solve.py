#!/usr/bin/env python3
import gmpy2
import functools
from Crypto.Util.number import *

n0 = 118881652667762361824244168713670174400636555488010770888216676416003283998273255296651096241299795642698820051327222361717823416402212803574585980950762818181817605183539027495022723612050020967807347062922231239074354928156315278542049055816931931850930784569870501662171135918205857963649495883378970708711
c0 = 33508985336043979019568365788068456379355045195651331808318422369954188967784698940619250543601330812543432305467822227529469710903123780303258419170005519886538107110967144802750474990290233473651286105396074176961083917325422807417540816373688302877676128926861088671933457989856550526969304331089856836342
n1 = 91979929024317978759191248067915273230887426627094349297341853867704689654592771211707823121914466156585669843617169622711485987322505894292932900941964065450518287708881721113989941795639291896328064883325048882327209190362189531280856583677515483276876245575591393618611188529363427330939129849846150101041
c1 = 85816376600157715238993246243553186008671452308207219284808420970168905783305617898350698359695783251563268747507724057665917867861768623933417978360758853617118206436997342482066868459838603414228781248548944620776714845962662194073362237390453619318045969393430373338292031335874321756765004180156114420122
n2 = 101424800379028324921350544183988970775520224738341911361674707856179213362593397630439726026290806510378980814372146506930373348042195711816245188105440245500877473149295469782255142160742756513527280827898656868603562517474096182909176480337740148798566631942216091899184338608986765084578562748735294097959
c2 = 27423095605151731371383084891959780724977906707039503224814724275499632291792852857481519521889323418623964896179380719366537539231565339220024613149904372409537361633098225488182542673145254346069172176162275275734097460304945933909940683482840718729870415485178778972857705584276984495835525801094556572323

def crt(a, m):
    '''
    Input: [a_1, ... a_n], [m_1, ..., m_n]
        x = a_1 (mod m_1)
        x = a_2 (mod m_2)
        ...
        x = a_n (mod m_n)
    Output: x
    '''
    prod, total = functools.reduce(lambda x, y: x * y, m), 0
    for ai, mi in zip(a, m):
        Mi = prod // mi
        total += ai * Mi * (gmpy2.gcdext(Mi, mi)[1] % mi)
    return total % prod

c = crt([c0, c1, c2], [n0, n1, n2])
#c = crt([c0, c1], [n0, n1])
m, _ = gmpy2.iroot(c, 3)
print(long_to_bytes(m))
